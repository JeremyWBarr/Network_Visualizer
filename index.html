<!doctype html>
<html lang="en">
    <!-- Based on: https://getbootstrap.com/docs/4.1/examples/sign-in/ -->
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="author" content="">

        <title>Network Visualizer</title>

        <!-- Bootstrap core CSS -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> 
        <link rel="stylesheet" href="style.css">

        <script src="messages.js"></script>
    </head>

    <body class="text-center" id="signup-page">

        <div class="center">

            <span class="title">Network Visualizer</span>

            <form method="post" class="main-form" action="network.php" enctype="multipart/form-data">
                <input type="hidden" name="action" value="upload">

                <div id="errors" class="alert alert-danger" role="alert"></div>

                <div id="messages" class="alert alert-success" role="alert"></div>

                <div class="file-form">
                    <div class="custom-file">
                        <label class="custom-file-label" for="edgeFile">Edge file (.xls only)</label>
                        <input type="file" class="custom-file-input" name="edgeFile" id="edgeFile" required>
                    </div>
                    <br/>
                    <div class="custom-file">
                        <label class="custom-file-label" for="nodeFile">Node file (optional)</label>
                        <input type="file" class="custom-file-input" name="nodeFile" id="nodeFile">
                    </div>

                    <div class="checkbox">
                        <label>
                        <input type="checkbox" name="hasHeaderColumn" value="true"> Has Header Column
                        </label>
                    </div>

                    <div class="checkbox">
                        <label>
                        <input type="checkbox" id="login" name="login" value="true"> Login with user?
                        </label>
                    </div>
                </div>
                <div class="user-form">

                    <label for="inputUsername" class="sr-only">Username</label>
                    <input type="text" id="inputUsername" name="username" class="form-control top" placeholder="Username">

                    <label for="inputPassword" class="sr-only">Password</label>
                    <input type="text" id="inputPassword" name="password" class="form-control bottom mb-3" placeholder="Password">

                    <a href="signup.html">Create Account...</a>

                    <button class="btn btn-lg btn-primary btn-block mt-3" id="submit" name="submit">Upload</button>
                </div>
            </form>
            <button class="btn btn-lg btn-primary btn-block file-form mt-3" id="submitFile" name="submitFile">Upload</button>
        </div>

            <script type="text/javascript">
                
                $(document).ready(
                    function(){

                        $(".user-form").hide();

                        $("#submitFile").click(function(){
                            if($("#login").is(':checked')){
                                $(".user-form").show();
                                $(".file-form").hide();
                            } else if($("#edgeFile")[0].files.length > 0) {
                                $(".main-form").submit();
                            }
                        })
                    });

            </script>
    </body>
</html>
